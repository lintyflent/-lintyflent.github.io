(this.webpackJsonpstarwiki=this.webpackJsonpstarwiki||[]).push([[0],{31:function(e,t,r){},32:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(4),c=r.n(a),s=r(11),i=r(14),l=r(1),o=r.n(l),u=r(20),d=r.n(u),j=r(21),m=r(24),b=r(23),h=(r(31),function(){return Object(n.jsxs)("div",{className:"error",children:[Object(n.jsxs)("h2",{children:["Oops!",Object(n.jsx)("br",{})]}),Object(n.jsxs)("span",{children:["Something clearly went wrong..",Object(n.jsx)("br",{})]}),Object(n.jsxs)("span",{children:["Everything will work soon, don't worry :) ",Object(n.jsx)("br",{})]})]})}),f=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:!1},e}return Object(j.a)(r,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(n.jsx)(h,{}):this.props.children}}]),r}(l.Component),p=o.a.createContext(),g=p.Provider,O=(p.Consumer,r(5)),x=(r(32),function(){var e=Object(l.useContext)(p).pages;return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)(O.b,{to:"/",className:"header-link",children:"star DB"}),Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"header-ul",children:[Object(n.jsx)("li",{children:Object(n.jsx)(O.b,{to:"/"+e[0]+"/",children:e[0]})}),Object(n.jsx)("li",{children:Object(n.jsx)(O.b,{to:"/"+e[1]+"/",children:e[1]})}),Object(n.jsx)("li",{children:Object(n.jsx)(O.b,{to:"/"+e[2]+"/",children:e[2]})})]})}),Object(n.jsx)(v,{})]})}),v=function(){var e=Object(l.useContext)(p).pages;return Object(n.jsxs)("div",{className:"dropdown header-menu",children:[Object(n.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Menu"}),Object(n.jsxs)("div",{className:"dropdown-menu header-menu-list","aria-labelledby":"dropdownMenuButton",children:[Object(n.jsx)(O.b,{className:"dropdown-item",to:"/"+e[0]+"/",children:e[0]}),Object(n.jsx)(O.b,{className:"dropdown-item",to:"/"+e[1]+"/",children:e[1]}),Object(n.jsx)(O.b,{className:"dropdown-item",to:"/"+e[2]+"/",children:e[2]})]})]})},w=r(9),I=r(6),G=(r(38),function(){return Object(n.jsx)("div",{className:"loadingio-spinner-eclipse-j6bz9624dx",children:Object(n.jsx)("div",{className:"ldio-0qmq0nafzgsp",children:Object(n.jsx)("div",{})})})}),P=(r(39),r(1).useContext),N=function(e){var t=e.item,r=t.id,a=t.name,c=e.sourceImg,s=e.record,i=e.namesHeader,l=P(p).GetNewUrlImg;return Object(n.jsxs)("section",{className:"alert alert-dark random-item",children:[Object(n.jsxs)("h1",{className:"random-item-header",children:["Random ",i]}),Object(n.jsx)("img",{className:"rounded random-item-img",src:c(r),alt:a,onError:function(){return l(".random-item-img")}}),Object(n.jsx)("h2",{className:"random-item-name",children:a}),Object(n.jsx)("ul",{className:"random-item-ul list-group",children:s})]})},C=function(e){var t,r=e.maxItem,a=e.sourceData,c=e.sourceImg,s=e.namesHeader,i=e.children,u=Object(l.useState)({}),d=Object(I.a)(u,2),j=d[0],m=d[1],b=Object(l.useState)({loading:!0,error:!1}),h=Object(I.a)(b,2),f=h[0],p=h[1],g=function(e){m(e),p(Object(w.a)(Object(w.a)({},f),{},{loading:!1}))},O=function e(){p(Object(w.a)(Object(w.a)({},f),{},{loading:!0}));var t=function(e,t){var r=e-.5+Math.random()*(t-e+1);return Math.round(r)}(1,r);null!==t&&a(t).then(g).catch((function(t){e()}))};return Object(l.useEffect)((function(){return O(),t=setInterval((function(){return O()}),6e4),function(){return clearInterval(t)}}),[]),f.loading?Object(n.jsx)("section",{className:"list-group random-item",children:Object(n.jsx)(G,{})}):Object(n.jsx)(N,{item:j,sourceImg:c,record:o.a.Children.map(i,(function(e){return o.a.cloneElement(e,{item:j})})),namesHeader:s})},U=(r(40),function(e){var t=e.item,r=e.field,a=e.label,c=e.reduction,s=void 0===c?"":c;return Object(n.jsxs)("li",{className:"list-group-item item-detalis-li",children:[a," ",t[r]," ",s]})}),_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(n.jsx)(U,{field:e,label:t+":",reduction:r})},y=function(){var e=Object(l.useContext)(p),t=e.GetPerson,r=e.GetImgPersonUrl2,a=e.namesHeader,c=[{field:"eyeColor",label:"Eye color",reduction:""},{field:"birthYear",label:"Birth year",reduction:""},{field:"gender",label:"Gender",reduction:""},{field:"mass",label:"Mass",reduction:"kg"},{field:"height",label:"Height",reduction:"sm"}].map((function(e){return _(e.field,e.label,e.reduction)}));return Object(n.jsx)(C,{sourceImg:r,sourceData:t,maxItem:80,namesHeader:a[0],children:c})},S=function(){var e=Object(l.useContext)(p),t=e.GetPlanet,r=e.GetImgPlanetUrl2,a=e.namesHeader,c=[{field:"population",label:"Population",reduction:""},{field:"surfaceWater",label:"Surface water",reduction:"%"},{field:"terrain",label:"Terrain",reduction:""},{field:"rotationPeriod",label:"Rotation period",reduction:"day"},{field:"diameter",label:"Diameter",reduction:"km"}].map((function(e){return _(e.field,e.label,e.reduction)}));return Object(n.jsx)(C,{sourceImg:r,sourceData:t,maxItem:60,namesHeader:a[1],children:c})},k=function(){var e=Object(l.useContext)(p),t=e.GetStarship,r=e.GetImgStarshipUrl2,a=e.namesHeader,c=[{field:"starshipClass",label:"Class",reduction:""},{field:"length",label:"Length",reduction:"m"},{field:"MGLT",label:"MGLT",reduction:"In h"},{field:"crew",label:"Crew",reduction:""},{field:"passengers",label:"Passengers",reduction:""}].map((function(e){return _(e.field,e.label,e.reduction)}));return Object(n.jsx)(C,{sourceImg:r,sourceData:t,maxItem:15,namesHeader:a[2],children:c})},H=r(2),D=(r(41),Object(H.f)((function(e){var t=e.itemList,r=e.history,a=e.currentPage,c=t.map((function(e){return Object(n.jsx)("li",{className:"list-group-item item-list-view",onClick:function(){r.push("/".concat(a,"/").concat(e.id))},children:e.name},e.name)}));return Object(n.jsx)("ul",{className:"list-group item-list",children:c})}))),L=function(e){var t=e.onGetAlldata,r=e.onLoadItemDetalis,a=e.currentPage,c=Object(l.useState)(null),s=Object(I.a)(c,2),i=s[0],o=s[1],u=Object(l.useState)({loading:!0,error:!1}),d=Object(I.a)(u,2),j=d[0],m=d[1];return Object(l.useEffect)((function(){t().then((function(e){o(e),m(Object(w.a)(Object(w.a)({},j),{},{loading:!1}))})).catch((function(e){return m({loading:!1,error:!0})}))}),[]),j.loading?Object(n.jsx)("ul",{className:"list-group item-list",children:Object(n.jsx)(G,{})}):Object(n.jsx)(D,{itemList:i,onLoadItemDetalis:function(e){r(e)},currentPage:a})},M=(r(42),function(e){var t=e.item,r=e.img,a=e.record,c=e.namesHeader,s=t.name,i=Object(l.useContext)(p).GetNewUrlImg;return Object(n.jsxs)("section",{className:"item-detalis alert alert-dark",children:[Object(n.jsxs)("h2",{className:"item-detalis-header",children:["Selected ",c]}),Object(n.jsx)("img",{className:"rounded item-detalis-img",src:r,alt:s,onError:function(){return i(".item-detalis-img")}}),Object(n.jsx)("h3",{className:"item-detalis-name",children:s}),Object(n.jsx)("ul",{className:"list-group item-detalis-ul",children:a})]})}),E=Object(H.f)((function(e){var t,r=e.onGetData,a=e.getImgUrl,c=e.children,s=e.match,i=e.namesHeader,u=s.params.id,d=Object(l.useState)({item:null,img:null}),j=Object(I.a)(d,2),m=j[0],b=j[1],h=Object(l.useState)({loading:!0,error:!1}),f=Object(I.a)(h,2),p=f[0],g=f[1],O=Object(l.useCallback)((function(){null!==u&&void 0!==u&&(g((function(){return Object(w.a)(Object(w.a)({},p),{},{loading:!0,error:!0})})),r(u).then((function(e){b((function(){return{item:e,img:a(e)}})),g((function(){return Object(w.a)(Object(w.a)({},p),{},{loading:!1})}))})))}),[a,u,r]);Object(l.useEffect)((function(){O()}),[u,O]);var x=m.item;return p.loading?(t=null===x||void 0===x?Object(n.jsx)("div",{children:"Character selection pending ..."}):Object(n.jsx)(G,{}),Object(n.jsx)("section",{className:"item-detalis alert alert-dark",children:t})):Object(n.jsx)(M,{item:x,img:m.img,record:o.a.Children.map(c,(function(e){return o.a.cloneElement(e,{item:x})})),namesHeader:i})})),A=function(){var e=Object(l.useState)(null),t=Object(I.a)(e,2),r=t[0],a=t[1],c=Object(l.useContext)(p),s=c.GetAllPeople,i=c.GetPerson,u=c.GetImgPersonUrl,d=c.pages,j=c.namesHeader,m=[{field:"eyeColor",label:"Eye color",reduction:""},{field:"birthYear",label:"Birth year",reduction:""},{field:"gender",label:"Gender",reduction:""},{field:"mass",label:"Mass",reduction:"kg"},{field:"height",label:"Height",reduction:"sm"}].map((function(e){return _(e.field,e.label,e.reduction)}));return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(L,{onLoadItemDetalis:function(e){a(e)},onGetAlldata:s,currentPage:d[0]}),Object(n.jsx)(E,{itemId:r,onGetData:i,getImgUrl:u,namesHeader:j[0],children:m})]})},R=function(){var e=Object(l.useState)(null),t=Object(I.a)(e,2),r=t[0],a=t[1],c=Object(l.useContext)(p),s=c.GetImgPlanetUrl,i=c.GetPlanet,u=c.GetAllPlanets,d=c.pages,j=c.namesHeader,m=[{field:"population",label:"Population",reduction:""},{field:"surfaceWater",label:"Surface water",reduction:"%"},{field:"terrain",label:"Terrain",reduction:""},{field:"rotationPeriod",label:"Rotation period",reduction:"day"},{field:"diameter",label:"Diameter",reduction:"km"}].map((function(e){return _(e.field,e.label,e.reduction)}));return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(L,{onLoadItemDetalis:function(e){a(e)},onGetAlldata:u,currentPage:d[1]}),Object(n.jsx)(E,{itemId:r,onGetData:i,getImgUrl:s,namesHeader:j[1],children:m})]})},T=function(){var e=Object(l.useState)(null),t=Object(I.a)(e,2),r=t[0],a=t[1],c=Object(l.useContext)(p),s=c.GetImgStarshipUrl,i=c.GetStarship,u=c.GetAllStarships,d=c.pages,j=c.namesHeader,m=[{field:"starshipClass",label:"Class",reduction:""},{field:"length",label:"Length",reduction:"m"},{field:"MGLT",label:"MGLT",reduction:"In h"},{field:"crew",label:"Crew",reduction:""},{field:"passengers",label:"Passengers",reduction:""}].map((function(e){return _(e.field,e.label,e.reduction)}));return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(L,{onLoadItemDetalis:function(e){a(e)},onGetAlldata:u,currentPage:d[2]}),Object(n.jsx)(E,{itemId:r,onGetData:i,getImgUrl:s,namesHeader:j[2],children:m})]})},F=(r(43),function(){return Object(n.jsxs)("div",{className:"not-found-view",children:[Object(n.jsxs)("h2",{children:["Page not found!",Object(n.jsx)("br",{})]}),Object(n.jsxs)("span",{children:["Unfortunately, there is no such page :(",Object(n.jsx)("br",{})]})]})}),B=(r(44),function(){var e=Object(l.useContext)(p).pages;return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("div",{className:"app-gird",children:[Object(n.jsx)(x,{}),Object(n.jsxs)(H.c,{children:[Object(n.jsx)(H.a,{path:"/"+e[0]+"/:id?",render:function(){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(y,{}),Object(n.jsx)(A,{})]})}}),Object(n.jsx)(H.a,{path:"/"+e[1]+"/:id?",render:function(){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(S,{}),Object(n.jsx)(R,{})]})}}),Object(n.jsx)(H.a,{path:"/"+e[2]+"/:id?",render:function(){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(k,{}),Object(n.jsx)(T,{})]})}}),Object(n.jsx)(H.a,{path:"/",exact:!0,render:function(){return Object(n.jsx)(o.a.Fragment,{})}}),Object(n.jsx)(H.a,{render:function(){return Object(n.jsx)(F,{})}})]})]})})})})})}),q=new function e(){var t=this;Object(i.a)(this,e),this.pages=["people","planets","starships"],this.namesHeader=["character","planet","starship"],this._apiUrl="https://swapi.dev/api/",this._imgUrl="https://starwars-visualguide.com/assets/img/",this._getId=function(e){return e.match(/\/([0-9]*)\/$/)[1]},this.getResource=function(){var e=Object(s.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiUrl).concat(r));case 2:if((n=e.sent).status,!1!==n.ok){e.next=6;break}throw new Error("Could not fetch ".concat("".concat(t._apiUrl).concat(r)," received ",n.saltLength));case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.GetAllPeople=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t.pages[0]+"/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.GetPerson=function(){var e=Object(s.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t.pages[0]+"/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPerson=function(e){return{id:t._getId(e.url),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color,mass:e.mass,height:e.height}},this.GetImgPersonUrl=function(e){var r=e.id;return t._imgUrl+"characters/"+r+".jpg"},this.GetImgPersonUrl2=function(e){return t._imgUrl+"characters/"+e+".jpg"},this.GetAllPlanets=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t.pages[1]+"/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.GetPlanet=function(){var e=Object(s.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t.pages[1]+"/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPlanet=function(e){return{id:t._getId(e.url),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter,climate:e.climate,terrain:e.terrain,surfaceWater:e.surface_water}},this.GetImgPlanetUrl=function(e){var r=e.id;return t._imgUrl+t.pages[1]+"/"+r+".jpg"},this.GetImgPlanetUrl2=function(e){return t._imgUrl+t.pages[1]+"/"+e+".jpg"},this.GetAllStarships=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t.pages[2]+"/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformStarship));case 4:case"end":return e.stop()}}),e)}))),this.GetStarship=function(){var e=Object(s.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t.pages[2]+"/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformStarship=function(e){return{id:t._getId(e.url),name:e.name,model:e.model,starshipClass:e.starship_class,costInCredits:e.cost_in_credits,length:e.length,passengers:e.passengers,crew:e.crew,MGLT:e.MGLT}},this.GetImgStarshipUrl=function(e){var r=e.id;return t._imgUrl+t.pages[2]+"/"+r+".jpg"},this.GetImgStarshipUrl2=function(e){return t._imgUrl+t.pages[2]+"/"+e+".jpg"},this.GetNewUrlImg=function(e){document.querySelector(e).src="https://i.ibb.co/dMz5tpx/note404.jpg"}};d.a.render(Object(n.jsx)(f,{children:Object(n.jsx)(g,{value:q,children:Object(n.jsx)(O.a,{children:Object(n.jsx)(B,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.62b47d00.chunk.js.map